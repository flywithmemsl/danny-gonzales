{"version":3,"sources":["app/scripts/bubbleNodes.js","app/scripts/bubbles.js","app/scripts/initialize.js","app/scripts/lightbox.js","app/scripts/posts.js"],"names":[],"mappings":"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","file":"public/javascripts/app.js","sourcesContent":["\nimport {BUBBLE_TYPE_XL, BUBBLE_TYPE_L, BUBBLE_TYPE_M, BUBBLE_TYPE_S} from './bubbles';\n\nexport class BubbleNodesService {\n  bubbles = [];\n  bubbleNodes = [];\n\n  parentXL;\n  parentL;\n  parentM;\n  parentS;\n\n  onClick = null;\n  \n  constructor(bubbles, parent, onClick) {\n    this.bubbles = bubbles;\n    this.parent = parent;\n    this.onClick = onClick;\n  }\n  \n  setParents() {\n    this.parentXL = document.createElement('div');\n    this.parentXL.className = 'bubbles-xl';\n    this.parentXL.style.position = 'absolute';\n    this.parentXL.style.top = 0;\n    this.parent.appendChild(this.parentXL);\n\n    this.parentL = document.createElement('div');\n    this.parentL.className = 'bubbles-l';\n    this.parentL.style.position = 'absolute';\n    this.parentL.style.top = 0;\n    this.parent.appendChild(this.parentL);\n\n    this.parentM = document.createElement('div');\n    this.parentM.className = 'bubbles-m';\n    this.parentM.style.position = 'absolute';\n    this.parentM.style.top = 0;\n    this.parent.appendChild(this.parentM);\n\n    this.parentS = document.createElement('div');\n    this.parentS.className = 'bubbles-s';\n    this.parentS.style.position = 'absolute';\n    this.parentS.style.top = 0;\n    this.parent.appendChild(this.parentS);\n  }\n\n  setNodes() {\n    for (let bubble of this.bubbles) {\n      let elm = document.createElement('div');\n      elm.className = 'bubble ' + bubble.type.name;\n      elm.style.left = bubble.x + 'px';\n      elm.style.top = bubble.y + 'px';\n      elm.style.width = bubble.size + 'px';\n      elm.style.height = bubble.size + 'px';\n\n      if (bubble.post.backgroundColor.length)\n        elm.style.backgroundColor = bubble.post.backgroundColor;\n      if (bubble.post.backgroundImage.length)\n        elm.style.backgroundImage = 'url(\"' + bubble.post.backgroundImage + '\")';\n\n      let elmInner = document.createElement('div');\n      elmInner.className = 'bubble-inner';\n      elm.appendChild(elmInner);\n\n      let elmText = document.createElement('div');\n      elmText.className = 'title';\n      elmText.innerHTML = bubble.post.text;\n      elmInner.appendChild(elmText);\n\n      let elmSubtitle = document.createElement('div');\n      elmSubtitle.className = 'subtitle';\n      elmSubtitle.innerHTML = bubble.post.subtitle;\n      elmInner.appendChild(elmSubtitle);\n\n      /*\n      switch (bubble.type.name) {\n        case BUBBLE_TYPE_XL:\n          this.parentXL.appendChild(elm);\n          break;\n        case BUBBLE_TYPE_L:\n          this.parentL.appendChild(elm);\n          break;\n        case BUBBLE_TYPE_M:\n          this.parentM.appendChild(elm);\n          break;\n        case BUBBLE_TYPE_S:\n          this.parentS.appendChild(elm);\n          break;\n      }\n      */\n        this.parent.appendChild(elm);\n\n      this.bubbleNodes.push(elm);\n\n      $(elm).click(() => this.onClick(bubble.post));\n    }\n  }\n\n  updateNodeDim() {\n    for (let i = 0; i < this.bubbles.length; i++) {\n      let node = this.bubbleNodes[i];\n      let bubble = this.bubbles[i];\n      node.className = 'bubble ' + bubble.type.name;\n      node.style.left = bubble.x + 'px';\n      node.style.top = bubble.y + 'px';\n      node.style.width = bubble.size + 'px';\n      node.style.height = bubble.size + 'px';\n    }\n  }\n  \n  process() {\n    //this.setParents();\n    this.setNodes();\n\n    /*\n    $('.bubbles').masonry({\n      // options\n      itemSelector: '.bubble',\n      columnWidth: 200\n    });\n    */\n    return this.bubbleNodes;\n  }\n}","import {Post} from './posts';\n\nexport const BUBBLE_TYPE_XL = \"bubble_type_xl\";\nexport const BUBBLE_TYPE_L  = \"bubble_type_l\";\nexport const BUBBLE_TYPE_M  = \"bubble_type_m\";\nexport const BUBBLE_TYPE_S  = \"bubble_type_s\";\n\nexport class BubbleType {\n  constructor(name = BUBBLE_TYPE_L, size = 253) {\n    this.name = name;\n    this.size = size;\n  }\n}\n\nexport class Bubble {\n  constructor() {\n    this.post = new Post();\n    this.type = new BubbleType();\n    this.size = 0;\n    this.x = 0;\n    this.y = 0;\n  }\n}\n\nexport class BubblesService {\n  bubbleTypes = [\n    new BubbleType(BUBBLE_TYPE_XL,  350),\n    new BubbleType(BUBBLE_TYPE_L,   253),\n    new BubbleType(BUBBLE_TYPE_M,   185),\n    new BubbleType(BUBBLE_TYPE_S,   150)\n  ];\n\n  static checkIntersection(bubble1, bubble2) {\n    let a1 = bubble1.x + bubble1.size/2 - (bubble2.x + bubble2.size/2);\n    let a2 = bubble1.y + bubble1.size/2 - (bubble2.y + bubble2.size/2);\n    let distance = Math.sqrt(a1 * a1 + a2 * a2);\n    return (distance > (bubble1.size + bubble2.size) / 1.7);\n  }\n\n  posts = [];\n  bubbles = [];\n  height = 0;\n  \n  constructor(posts, width) {\n    this.posts = posts;\n    this.width = width;\n  }\n  \n  setBubbles(grow = 1) {\n    let coeff = 1100 / this.width;\n    this.height = coeff * this.posts.length * 30 * grow;\n\n    for (let i = 0; i < this.posts.length; i++) {\n      let bubble = new Bubble();\n      bubble.post = this.posts[i];\n      let ind = Math.floor(Math.random() * this.bubbleTypes.length);\n      bubble.type = this.bubbleTypes[ind];\n      bubble.size = bubble.type.size;\n      //bubble.size = Math.floor(bubble.type.size * (coeff > 1 ? 1 : 1/coeff));\n\n      let attempt = 0;\n      let check = true;\n      do {\n        bubble.x = Math.floor(Math.random() * (this.width - bubble.size));\n        bubble.y = Math.floor(Math.random() * (this.height - bubble.size));\n        check = true;\n        for (let j = 0; j < i; j++) {\n          check = check && BubblesService.checkIntersection(bubble, this.bubbles[j]);\n        }\n\n        attempt++;\n        if (attempt / this.posts.length > 30) {\n          this.bubbles = [];\n          this.setBubbles(grow * 1.07);\n          return;\n        }\n        \n      } while (!check);\n\n      this.bubbles[i] = bubble;\n    }\n  }\n  \n  process() {\n    this.setBubbles();\n    return this.bubbles;\n  }\n}","import {PostsService} from './posts';\nimport {BubblesService} from './bubbles';\nimport {BubbleNodesService} from './bubbleNodes';\nimport {LightboxService} from './lightbox';\n\n\nlet screenHeight = 0;\n\nlet lightboxSrv;\n\nlet postSrv;\nlet bubbleSrv;\nlet bubbleNodesSrv;\n\nlet bubblesParent;\n\n\nfunction debounce(func, threshold, execAsap) {\n  let timeout;\n\n  return function debounced () {\n    let obj = this, args = arguments;\n    function delayed () {\n      if (!execAsap)\n        func.apply(obj, args);\n      timeout = null;\n    };\n\n    if (timeout)\n      clearTimeout(timeout);\n    else if (execAsap)\n      func.apply(obj, args);\n\n    timeout = setTimeout(delayed, threshold || 100);\n  };\n}\n\nfunction setMouseListeners() {\n  let navShow = () => {\n    $('.nav').addClass('nav-active');\n    $('.nav-toggle').addClass('toggle-active');\n  };\n  $('.nav-toggle').click(navShow);\n\n  let navHide = () => {\n    $('.nav').removeClass('nav-active');\n    $('.nav-toggle').removeClass('toggle-active');\n  };\n\n  $('.nav-close').click(navHide);\n  $('html, body').click(navHide);\n\n  $('.nav, .nav-toggle').click(event => event.stopPropagation());\n\n  $(document).bind('mousewheel', () => {\n    $('.art').addClass('animations-active');\n    $('.bubbles').addClass('bubbles-active').delay(500).queue(() => {\n      $(this).addClass('bubbles-overflow');\n    });\n  });\n}\n\nfunction setBioLightbox() {\n  let bioLightboxShow = () => {\n    $('.nav').removeClass('nav-active');\n    $('.nav-toggle').removeClass('toggle-active');\n    $('.bio-lightbox').addClass('lightbox-active')\n  };\n\n  let bioLightboxHide = () => {\n    $('.bio-lightbox').removeClass('lightbox-active');\n  };\n\n  $('.bio-link').click(bioLightboxShow);\n  $('.bio-lightbox .close-button').click(bioLightboxHide);\n}\n\nfunction filterVisible() {\n  let elm = $(this);\n  let top = elm.offset().top;\n\n  let seeY1 = bubblesParent.scrollTop();\n  let seeY2 = screenHeight + seeY1;\n\n  top += seeY1;\n\n  console.log((top + elm.height() >= seeY1 && top <= seeY2), top, seeY1, seeY2, this);\n  return top + elm.height() >= seeY1 && top <= seeY2;\n}\n\nfunction onScroll() {\n  let scrolledBase = bubblesParent.scrollTop();\n\n  let scrolled = scrolledBase * .1;\n  $('.bubble_type_xl').filter(filterVisible).css('transform', 'translate3d(0, ' + scrolled + 'px, 0)');\n\n  scrolled = (0 - (scrolledBase * .1));\n  $('.bubble_type_m').filter(filterVisible).css('transform', 'translate3d(0, ' + scrolled + 'px, 0)');\n\n  scrolled = (0 - (scrolledBase * .2));\n  $('.bubble_type_s').filter(filterVisible).css('transform', 'translate3d(0, ' + scrolled + 'px, 0)');\n}\n\nfunction scrollMagicInit() {\n  window.controller = new ScrollMagic.Controller();\n\n  let scene = new ScrollMagic.Scene({\n    triggerElement: \"body\",\n    triggerHook: 'onLeave'\n  })\n    .setTween('.footer', 0.5, {backgroundColor: \"green\", scale: 2.5})\n    //.addIndicators({name: \"1 (duration: 0)\"})\n    .addTo(window.controller);\n}\n\n\n$(document).ready(() => {\n  screenHeight = $(window).height();\n\n  setMouseListeners();\n  setBioLightbox();\n  scrollMagicInit();\n\n  bubblesParent = $('.bubbles');\n\n  lightboxSrv = new LightboxService();\n  lightboxSrv.init();\n\n  postSrv = new PostsService();\n  let posts = postSrv.process();\n\n  bubbleSrv = new BubblesService(posts, bubblesParent.width());\n  let bubbles = bubbleSrv.process();\n\n  bubbleNodesSrv = new BubbleNodesService(bubbles, document.querySelector('.bubbles'), (...args) => lightboxSrv.callLightbox(...args));\n  let bubblesNodes = bubbleNodesSrv.process();\n\n  bubblesParent.bind('scroll', onScroll);\n  \n\n  /*\n  $(window).on('resize', debounce(() => {\n    bubblesNodes.updateNodeDim();\n  }, 600, false));\n  */\n\n  //$('.footer').bind('scroll', event => event.stopImmediatePropagation());\n});\n","import {Post, POST_TYPE_PROJECT, POST_TYPE_INSTAGRAM, POST_TYPE_PRESS} from './posts';\n\nexport const LIGHTBOX_GALLERY = \".gallery-lightbox\";\nexport const LIGHTBOX_INSTAGRAM = \".ig-lightbox\";\n\n\nexport class LightboxService {\n  type = LIGHTBOX_GALLERY;\n  count = 1;\n  \n  title = '';\n  subtitle = '';\n  text = '';\n  \n\n  init() {\n    $('.lightbox .close-button').click(this.hideLightbox);\n    $('.lightbox .bg').click(this.hideLightbox);\n\n    $('.go-fullscreen').click(() => {\n      let el = document.body;\n      let requestMethod =\n        el.requestFullScreen ||\n        el.webkitRequestFullScreen ||\n        el.mozRequestFullScreen ||\n        el.msRequestFullScreen;\n\n      if (requestMethod) {\n        requestMethod.call(el);\n      } else if (typeof window.ActiveXObject !== \"undefined\") {\n        let wscript = new ActiveXObject(\"WScript.Shell\");\n        if (wscript !== null) {\n          wscript.SendKeys(\"{F11}\");\n        }\n      }\n    });\n\n    $('.lightbox').bind('mousewheel', event => event.stopPropagation());\n  }\n\n  showLightbox() {\n    //$('.lightbox').addClass('lightbox-active');\n    $(this.type).addClass('lightbox-active');\n  }\n\n  hideLightbox() {\n    $('.lightbox').removeClass('lightbox-active');\n\n    this.type = LIGHTBOX_GALLERY;\n    this.count = 1;\n    this.title = '';\n    this.subtitle = '';\n    this.text = '';\n  }\n\n  callLightbox(post) {\n    this.type = LIGHTBOX_GALLERY;\n    if (post.type == POST_TYPE_INSTAGRAM)\n      this.type = LIGHTBOX_INSTAGRAM;\n\n    this.title = post.title;\n    this.subtitle = post.subtitle;\n    this.text = post.text;\n\n    console.log(this);\n    console.log(this.type + ' .title');\n    $(this.type + ' .title').html(this.title);\n    $(this.type + ' .subtitle').html(this.subtitle);\n    $(this.type + ' .text').html(this.text);\n    if (post.images.length)\n      $(this.type + ' img').attr('src', post.images[0]);\n\n    this.showLightbox();\n  }\n}","export const POST_TYPE_PROJECT    = 'POST_TYPE_PROJECT';\nexport const POST_TYPE_INSTAGRAM  = 'POST_TYPE_INSTAGRAM';\nexport const POST_TYPE_PRESS      = 'POST_TYPE_PRESS';\n\n\nexport class Post {\n  constructor() {\n    this.type = POST_TYPE_PROJECT;\n    this.text = '';\n    this.subtitle = '';\n    this.backgroundColor = '';\n    this.backgroundImage = '';\n\n    this.images = [];\n  }\n}\n\nexport class PostsService {\n  posts = [];\n  postNum = 20;\n\n  setPosts() {\n    for (let i = 0; i < this.postNum; i++) {\n      let post = new Post();\n      this.posts.push(post);\n    }\n\n    let post = new Post();\n    post.text = 'Junk Food Clothing';\n    post.subtitle = 'Venice Beach, CA';\n    post.backgroundImage = '../images/photo-2.png';\n    post.images = ['images/photo-2.png'];\n    this.posts[0] = post;\n    this.posts[2] = post;\n    this.posts[13] = post;\n    this.posts[19] = post;\n\n    post = new Post();\n    post.type = POST_TYPE_PRESS;\n    post.text = 'Alternative Apparel Makes A Splash on Abbott Kinney';\n    post.subtitle = '— REFINERY 29';\n    post.backgroundColor = '#0E172F';\n    this.posts[4] = post;\n    this.posts[8] = post;\n    this.posts[12] = post;\n    this.posts[15] = post;\n\n    post = new Post();\n    post.backgroundImage = '../images/photo-4.png';\n    post.images = ['images/photo-4.png'];\n    this.posts[1] = post;\n    this.posts[5] = post;\n    this.posts[10] = post;\n    this.posts[12] = post;\n\n    post = new Post();\n    post.type = POST_TYPE_PRESS;\n    post.text = 'Wise Sons Jewish Deli Outpost at the CJM';\n    post.subtitle = '— SAN FRANCISCO EATE';\n    post.backgroundColor = '#26386F';\n    this.posts[3] = post;\n    this.posts[7] = post;\n    this.posts[14] = post;\n    this.posts[18] = post;\n\n    post = new Post();\n    post.type = POST_TYPE_INSTAGRAM;\n    post.backgroundImage = '../images/photo-1.png';\n    post.images = ['images/photo-1.png'];\n    this.posts[6] = post;\n    this.posts[9] = post;\n    this.posts[11] = post;\n    this.posts[12] = post;\n  }\n  \n  process() {\n    this.setPosts();\n    return this.posts;\n  }\n}"]}